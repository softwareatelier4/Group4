{% extends 'master' %}

{% block content %}

<div class="container">

  <div class="row justify-content-center">
    <div class="col-12 col-md-10">
      {% for profile in profiles.data %}
      <div class="row result-item">
        <div class="col-md-4">
          <img src="{{ profile.logo }}" class="img-fluid" alt="{{ profile.title }} logo">
        </div>
        <div class="col-md-8">
          <div class="row">
            <div class="col-8 result-item-title">
              <a href="/profiles/{{ profile.id }}">{{ profile.title }}</a>
            </div>
            <div class="col-4 text-right"> {{ profile.distance | round }} km</a></div>
          </div>
          <div class="row result-item-detail">
            <div class="col"><a href="{{profile.website}}"> {{ profile.website }} </a></div>
            <div class="col">{{ profile.telephone }}</div>
            <div class="col">{{ profile.city }}</div>
          </div>
          <div class="row mt-1">
            <div class="col">
             {{ profile.description | truncate(300)}}
           </div>
         </div>
       </div>
     </div>
     {% else %}
     <div class="alert alert-warning font-italic" role="alert">
       Your search did not match any profile.
     </div>

     {% endfor %}

     {% if profiles.total > 25 %}
     <!-- START Pagination -->
     <div class="row justify-content-center">
      <div class="col-md-4">
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center">

            {% if  profiles.currentPage == 1 %}

            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="{{ profiles.nextPage }}">{{ profiles.currentPage + 1 }}</a></li>
            <li class="page-item "></a><a class="page-link" href="{{ profiles.previousPage }}">{{ profiles.currentPage + 2 }}</li>
            <li class="page-item">
              <a class="page-link" href="#">Next</a>
            </li>
            {% else %}


            <li class="page-item disabled">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
            <li class="page-item "><a class="page-link" href="{{ profiles.previousPage }}">{{ profiles.currentPage -1 }}</a></li>
            <li class="page-item active"><a class="page-link" href="#">{{ profiles.currentPage }}</a></li>
            <li class="page-item"><a class="page-link" href="{{ profiles.nextPage }}">{{ profiles.currentPage + 1 }}</a></li>
            <li class="page-item">
              <a class="page-link" href="#">Next</a>
            </li>
            {% endif %}
          </ul>
        </nav>
      </div>
    </div>
    <!-- END Pagination -->
    {% endif %}

  </div>
</div>

</div>
{% endblock %}
